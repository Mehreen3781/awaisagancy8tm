


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Product View | Awais Agency8™</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
    <style>
      body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
      .view { max-width: 1200px; margin: 20px auto; padding: 0 16px; display: grid; grid-template-columns: 1fr; gap: 20px; }
      .view-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
      .media { width: 100%; }
      .media .slider { width: 100%; max-width: 100%; aspect-ratio: 16/10; background: #f5f5f6; border: 1px solid #e5e6e8; border-radius: 12px; overflow: hidden; position: relative; }
      .slides { position: relative; width: 100%; height: 100%; }
      .slide { position: absolute; inset: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 400ms ease; display: grid; place-items: center; background: #fff; }
      .slide.is-active { opacity: 1; }
      .slide img, .slide video { width: 100%; height: 100%; object-fit: cover; display: block; }
      .thumbs { display: flex; gap: 10px; margin-top: 10px; overflow-x: auto; padding-bottom: 6px; -webkit-overflow-scrolling: touch; scroll-snap-type: x mandatory; }
      .thumbs img, .thumbs video { width: 110px; height: 74px; object-fit: cover; border: 1px solid #e5e6e8; border-radius: 10px; cursor: pointer; flex: 0 0 auto; scroll-snap-align: start; }
      .content { display: grid; gap: 12px; }
      .price { font-size: 20px; font-weight: 700; }
      .cta-row { display: flex; gap: 10px; align-items: center; }
      .btn { display: inline-flex; align-items: center; justify-content: center; padding: 10px 14px; border-radius: 10px; border: 1px solid #e5e6e8; background: transparent; color: #0f0f10; text-decoration: none; cursor: pointer; transition: transform 180ms ease, box-shadow 180ms ease, color 150ms ease, border-color 150ms ease; }
      .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.1); color: #0a66c2; border-color: #0a66c2; }
      @media (max-width: 800px) {
        .view-grid { grid-template-columns: 1fr; }
        .media .slider { aspect-ratio: 4/3; }
      }
      @media (max-width: 560px) {
        .view { padding: 0 12px; }
        .media .slider { aspect-ratio: 1/1; border-radius: 12px; }
        .thumbs img, .thumbs video { width: 88px; height: 62px; border-radius: 8px; }
        .cta-row { flex-direction: column; align-items: stretch; }
        .cta-row .btn { width: 100%; }
      }
    </style>
  </head>
  <body>
    <div class="view">
      <a href="index.html" class="btn">← Back to Home</a>
      <div class="view-grid">
        <div class="media">
          <div class="slider" id="viewSlider">
            <div class="slides" id="slides"></div>
          </div>
          <div class="thumbs" id="viewThumbs"></div>
        </div>
        <div class="content">
          <h1 id="pTitle"></h1>
          <div class="price" id="pPrice"></div>
          <p id="pDesc"></p>
          <div class="cta-row">
            <a id="waBtn" class="btn btn-primary" href="https://wa.me/923077169743?text=I%20want%20to%20add%20this%20product%20to%20cart" target="_blank" rel="noopener">Add to Cart via WhatsApp</a>
            <a class="btn" href="index.html">Continue Shopping</a>
          </div>
        </div>
      </div>
    </div>
    <script>
      (function(){
        function fetchJSON(url){ return fetch(url).then(function(r){ return r.json(); }); }
        var params = new URLSearchParams(location.search);
        var id = parseInt(params.get('id')||'', 10);
        var slidesEl = document.getElementById('slides');
        var thumbsEl = document.getElementById('viewThumbs');
        var slides = [];
        function go(i){
          slides.forEach(function(s, k){ s.classList.toggle('is-active', k === i); });
        }
        function renderMedia(images){
          slidesEl.innerHTML = (images||[]).map(function(src, i){
            var isVideo = /\.(mp4|webm|ogg)$/i.test(src);
            return '<div class="slide'+(i===0?' is-active':'')+'">' + (isVideo ? '<video src="'+src+'" autoplay muted loop playsinline></video>' : '<img src="'+src+'" alt="Product image '+(i+1)+'" />') + '</div>';
          }).join('');
          thumbsEl.innerHTML = (images||[]).map(function(src, i){
            var isVideo = /\.(mp4|webm|ogg)$/i.test(src);
            var tag = isVideo ? 'video' : 'img';
            return '<'+tag+' data-index="'+i+'" src="'+src+'"></'+tag+'>';
          }).join('');
          slides = Array.prototype.slice.call(document.querySelectorAll('.slide'));
          Array.prototype.slice.call(thumbsEl.querySelectorAll('[data-index]')).forEach(function(t){
            t.addEventListener('click', function(){ go(parseInt(t.getAttribute('data-index'), 10)); });
          });
        }
        var fallbackItems = [
          { id: 1, title: 'Acni Patch', price: 50.99, rating: 4.6, images: ['productsimages/acni2.png','productsimages/acni3.png','productsimages/acni4.png'] },
          { id: 2, title: 'Watch Charger Cable (2 Pack)', price: 7.00, rating: 4.5, images: ['productsimages/charger.png','productsimages/charger2.png','productsimages/chargervedio.mp4'] },
          { id: 3, title: 'Bit Tool Kit', price: 14.50, rating: 4.4, images: ['productsimages/bittool.png','productsimages/bittool2.png'] },
          { id: 4, title: 'Multi-Surface Cleaner', price: 9.99, rating: 4.3, images: ['productsimages/cleaner.png','productsimages/cleaner2.png','productsimages/cleaner3.png'] },
          { id: 5, title: 'Chocolate Bar Set', price: 4.99, rating: 4.2, images: ['productsimages/coclatebar.png','productsimages/choclate2.png','productsimages/choclatt3.png'] },
          { id: 6, title: 'Child Protector', price: 5.49, rating: 4.1, images: ['productsimages/childprodector.png'] },
          { id: 7, title: 'Powerful Quad Processor', price: 119.00, rating: 4.5, images: ['productsimages/powerfulqourprocessor.png'] },
          { id: 8, title: 'Star Projector Toy', price: 24.99, rating: 4.6, images: ['imges/toystarprojector.png','imges/toy2.png','imges/toy3.png'] }
        ];

        function renderFrom(items){
          var list = items || [];
          var product = list.find(function(p){ return p.id === id; }) || list[0];
          if (!product) return;
          document.getElementById('pTitle').textContent = product.title || '';
          document.getElementById('pPrice').textContent = product.price != null ? ('$' + product.price.toFixed(2)) : '';
          var desc = product.description || ('High-quality ' + (product.title||'product') + (product.rating ? ' • Rated ' + product.rating.toFixed(1) + '/5' : '') + '. Fast global shipping and wholesale-friendly.');
          document.getElementById('pDesc').textContent = desc;
          renderMedia(product.images || (product.img ? [product.img] : []));
          var wa = document.getElementById('waBtn');
          wa.href = 'https://wa.me/923077169743?text=' + encodeURIComponent('Add to cart: ' + (product.title||'') + ' ($' + (product.price||'') + ')');
        }

        if (location.protocol === 'file:') {
          renderFrom(fallbackItems);
        } else {
          fetchJSON('products.json').then(function(items){ renderFrom(items && items.length ? items : fallbackItems); }).catch(function(){ renderFrom(fallbackItems); });
        }
      })();
    </script>
  </body>
</html>


